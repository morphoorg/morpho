{
   "morpho":
   {
     "do_stan": True,
     "do_postprocessing": False,
     "do_plots": True
   },
    "stan": {

        "name": "spectrum_analyzer",

        "model":   {
            "file": "./MassHierarchy/models/spectrum_analyzer.stan",
            "function_file": [
                              {"name" : "constants", "file" : "../functions/constants.functions"},
                              {"name" : "func_routines", "file" : "../functions/func_routines.functions"},
                              {"name" : "neutrino_mass_functions", "file" : "../functions/neutrino_mass_functions.functions"},
                              {"name" : "tritium_functions", "file" : "../functions/tritium_functions.functions"}
                              ],
            "cache": "./MassHierarchy/cache"
        },

        "data": {
            "type": "mc",
            "files": [
                      {
                      "name": "./MassHierarchy/data/spectrum_information.data",
                      "format":"R"
                      },
                      {
                      "name" : "./MassHierarchy/results/spectrum_generator_reduced_fake_NH.root",
                      "format" : "root",
                      "tree" : "additional_data",
                      "branches" : [
                                     {"name" : "nBinSpectrum", "stan_alias" : "nBinSpectrum", "data_format" : "integer"},
                                     {"name" : "nBinTime", "stan_alias" : "nBinTime", "data_format" : "integer"},
                                    ]
                      },
                      {
                      "name" : "./MassHierarchy/results/spectrum_generator_reduced_fake_NH.root",
                      "format" : "root",
                      "tree" : "spectrum",
                      "branches" : [
                                     {"name" : "KE_data", "stan_alias" : "KE_data"},
                                     {"name" : "n_spectrum_data", "stan_alias" : "n_spectrum_data", "data_format" : "integer"},
                                    ]
                      }

                      ],
            "parameters": [
                           {
                           "minKE": 18574.08,
                           "maxKE": 18575.05
                           }
                           ]
        },

        "run": {
            "algorithm": "NUTS",
            "iter": 80000,
            "warmup" : 70000,
            "chain": 8},


        "sample": "./MassHierarchy/results/spectrum_analyzer.out",

        "output":
        {
            "name" : "./MassHierarchy/results/spectrum_analyzer_NH3",
            "format": "root",
            "tree" : "analysis_parameters",
            "save_cache_name": "./MassHierarchy/results/cache_fn/cache_name_file3.txt",
            "fit": "./MassHierarchy/results/analysis_fit_NH3.pkl",
            "branches": [
                 {"variable": "Ue_squared", "root_alias": "Ue_squared", "ndim":3},
                 {"variable": "delta_m21","root_alias": "delta_m21"},
                 {"variable": "delta_m32","root_alias": "delta_m32"},
                 {"variable": "m32_withsign","root_alias": "m32_withsign"},
                 {"variable": "nu_mass","root_alias": "nu_mass", "ndim" : 3},
                 {"variable": "min_mass","root_alias": "min_mass"},
                 {"variable": "mbeta","root_alias": "mbeta"},
                 {"variable": "Q", "root_alias":"Q"},
                 {"variable": "lp__","root_alias": "LogLikelihood"},
                     ]
        }

    },

"postprocessing":
  {
    "which_pp":[
      {
      }
   ]
   },

"plot":
    {
      "which_plot":[
        {
        "method_name": "spectra",
        "module_name": "spectra",
        "read_cache_name": "./MassHierarchy/results/cache_fn/cache_name_file3.txt",
        "input_fit_name": "./MassHierarchy/results/analysis_fit_NH3.pkl",
        "output_path": "./MassHierarchy/results",
        "output_format": "pdf",
        "plotting_options": ["overlay"],
        "data": {"Q":18574.95, "Ue_squared":"Ue_squared", "m_nu":"nu_mass", "time":3.0e+07, "activity":0.000032091, "bkgd_rate":0.000001, "x_axis_data":"KE_check", "x_label":"Kinetic Energy (eV)", "spectrum_data":"spectrum_rate_check"},
        "x_range": [18573.00, 18575.05],
        "y_scale": "log"
        },
        {
        "method_name": "neutrino_params",
        "module_name": "neutrino_params",
        "read_cache_name": "./MassHierarchy/results/cache_fn/cache_name_file.txt",
"input_fit_name": "./MassHierarchy/results/analysis_fit_NH.pkl",
        "output_path": "./MassHierarchy/results/",
        "output_format": "pdf",
        "plotting_options": ["neutrino_masses", "mass_params", "mixing_params"],
        "data": {"nu_mass":"nu_mass","sin2_th12":"sin2_th12", "sin2_th13":"sin2_th13", "delta_m21":"delta_m21", "delta_m32":"delta_m32", "m32_withsign":"m32_withsign", "mbeta":"mbeta", "min_mass":"min_mass"},
        "hierarchy": "normal"
        },
        {
        "method_name": "Contour plotting is still a work in progress",
        "module_name": "contours",
        "read_cache_name": "./MassHierarchy/results/cache_fn/cache_name_file.txt",
        "input_fit_name": "./MassHierarchy/results/analysis_fit_IH.pkl",
        "output_path": "./MassHierarchy/results/",
        "result_names": ["sin2_th12", "sin2_th13", "delta_m21", "delta_m32"],
        "output_format": "pdf",
        "hierarchy": "inverted"
        }
    ]
    }
}
