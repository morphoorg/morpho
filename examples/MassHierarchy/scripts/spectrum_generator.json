{
   "morpho":
   {
     "do_stan": True,
     "do_postprocessing": False,
     "do_plots": True,
     "wait_at_the_end": False
   },

    "stan": {
        
        "name": "spectrum_generator",
        
        "model":   {
            "file": "./MassHierarchy/models/spectrum_generator.stan",
            "function_file": [
                              {"name" : "constants", "file" : "../functions/constants.functions"},
                              {"name" : "func_routines", "file" : "../functions/func_routines.functions"},
                              {"name" : "neutrino_mass_functions", "file" : "../functions/neutrino_mass_functions.functions"},
                              {"name" : "tritium_functions", "file" : "../functions/tritium_functions.functions"}
                              ],
            "cache": "./MassHierarchy/cache"
        },
        
        "data": {
            "type": "mc",
            "files": [
                      {
                      "name": "./MassHierarchy/data/spectrum_information.data",
                      "format":"R"
                      }
                      ],
            "parameters": [
                           {
                           "nChains" : 10,
                           "MH" : 1,
                           "minKE": 18573.00,
                           "maxKE": 18575.50,
                           "min_mass_fixed": 0.05
                           }
                           ]

        },
        
        "run": {
            "algorithim": "NUTS",
            "iter": 10000,
            "warmup": 8000,
            "chain": 10},
        
        "sample": "./MassHierarchy/results/MHtest_generator.out",
        
        "output":{
            "name": "./MassHierarchy/results/MHtest_generator_IH",
            "format": "root",
            "tree" : "generated",
            "branches" : [
                    {"variable" : "KE_data", "root_alias" : "KE_data"},
                    {"variable" : "spectrum_data", "root_alias" : "spectrum_data"},
                     ]
        }
        
    },

"postprocessing":
  {
    "which_pp":[
      {
        "method_name": "data_reducer",
        "module_name": "data_reducer",
        "which_spectrum": ["KE"],
        "Poisson_redistribution": True,
        "input_file_name" : "./MassHierarchy/results/MHtest_generator_IH.root",
        "input_file_format" : "root",
        "input_tree": "generated",
        "minKE":18573.00,
        "maxKE":18575.50,
        "nBinHisto":75,
        "output_file_name" : "./MassHierarchy/results/spectrum_generator_reduced_fake_IH.root",
        "output_file_format": "root",
        "output_KE_spectrum_tree": "spectrum",
        "output_time_spectrum_tree": "None",
        "additional_file_name" : "./MassHierarchy/results/spectrum_additionalData_IH.out",
      }

    ]
  },

 "plot":
    {
      "which_plot":[
        {
          "method_name": "histo",
          "module_name": "histo",
          "title": "",
          "input_file_name" : "./MassHierarchy/results/MHtest_generator_IH.root",
          "input_file_format" : "root",
          "input_tree": "generated",
          "output_path": "./MassHierarchy/results/",
          "output_format":"pdf",
          "output_width": 600,
          "output_height": 400,
          "data": ["KE_data"],
          "x_title": "B_{0} [T]",
          "y_title": "",
          "x_range":[18573.00,18575.50],
          "y_range":[0.,350],
          "n_bins":100,
          "options": "logy"
        }
      ]
    }

}
