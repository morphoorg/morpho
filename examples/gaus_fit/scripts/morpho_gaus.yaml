processors-toolbox:
  #
    processors:
        - type: morpho:PyStanSamplingProcessor
          name: generator
        - type: IORProcessor
          name: writer
        - type: IORProcessor
          name: reader
        - type: morpho:PyStanSamplingProcessor
          name: analyzer
        - type: APosterioriDistribution
          name: posterioriDistrib
        - type: TimeSeries
          name: timeSeries

    connections:
        - signal: "generator:results"
          slot: "writer:data"
        - signal: "reader:data"
          slot: "analyzer:data"
        - signal: "analyzer:results"
          slot: "posterioriDistrib:data"
        - signal: "analyzer:results"
          slot: "timeSeries:data"

generator:
    model_code: "gaus_fit/models/model_gaus_generator.stan"
    input_data:
        mu: 10
        sigma: 3
        sigma_y_smear: 0.01
    iter: 1000
    warmup: 500
    interestParams: ['x', 'y', 'residual']
    plot_name: ExampleGaussian
    delete: False
    diagnostics_folder: "gaus_fit/plots/generator_diagnostics"
writer:
    action: write
    filename: gaus_fit/data/data.r
    variables:
      - "x"
      - "y"
      - "residual"
reader:
    action: read
    filename: gaus_fit/data/data.r
    variables: ['x', 'y']
analyzer:
    model_code: "gaus_fit/models/model_gaus_fit.stan"
    iter: 2500
    warmup: 500
    interestParams: ['mu', 'sigma', 'sigma_y_smear']
    input_data:
      N: 1000
    diagnostics_folder: "gaus_fit/plots/analyzer_diagnostics"
posterioriDistrib:
    n_bins_x: 100
    n_bins_y: 100
    variables: ['mu','sigma', 'sigma_y_smear', 'lp_prob']
    title: "aposteriori_distribution"
    output_path: "gaus_fit/plots"
timeSeries:
    variables: ['mu','sigma','sigma_y_smear']
    height: 1200
    title: "timeseries"
    output_path: "gaus_fit/plots"